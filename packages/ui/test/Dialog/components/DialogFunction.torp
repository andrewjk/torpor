import { Modal, ModalContent, showPrompt } from "../../../src/Modal/index";
import { Dialog, DialogBody, DialogFooter, DialogButton } from "../../../src/Dialog/index";

export default function DialogFunction($props: any) {
	let $state = $watch({ color: "" });

	async function show() {
		$state.color = await showPrompt(CustomDialog, null, $parent);
	}

	@render {
		<button type="button" onclick={show}>Show the modal</button>

		@if ($state.color) {
			<p>Your favorite color is {$state.color}?!</p>
		}
	}
}

function CustomDialog($props: any) {
	@render {
		<Modal visible callback={$props.callback}>
			<ModalContent>
				<Dialog>
					<DialogBody>
						<p>Which color do you prefer?</p>
					</DialogBody>
					<DialogFooter>
						<DialogButton value="blue">Blue</DialogButton>
						<DialogButton value="red">Red</DialogButton>
					</DialogFooter>
				</Dialog>
			</ModalContent>
		</Modal>
	}
}
